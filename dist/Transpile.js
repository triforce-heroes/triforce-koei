import{BufferBuilder as e}from"@triforce-heroes/triforce-core/BufferBuilder";import{BufferConsumer as r}from"@triforce-heroes/triforce-core/BufferConsumer";export function transpile(n){let t=[],i=new r(n),o=i.readUnsignedInt32(),u=i.readUnsignedInt32(),f=n.length-u-16,l=i.skip(8).consumer(f),s=null,d=new e,c=new r(n,f+16);function m(){null!==s&&(d.length>0?(t.push([s,d.build()]),d=new e):t.push([s]),s=null)}for(;!l.isConsumed();){let e=l.readUnsignedInt32();e===f?(m(),s=c.readNullTerminatedString(),f+=Buffer.from(s,"utf8").length+1):d.writeUnsignedInt32(e),f-=4}return m(),[o,t]}