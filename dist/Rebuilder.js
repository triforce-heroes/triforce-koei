import{BufferBuilder as e}from"@triforce-heroes/triforce-core/BufferBuilder";export function rebuild(t,r){let n=4*t.length;for(let[,e]of t)void 0!==e&&(n+=e.length);let i=new e,l=new e;for(let[e,r]of t)i.writeUnsignedInt32(n),n+=Buffer.from(e,"utf8").length+1-4,void 0!==r&&(i.push(r),n-=r.length),l.writeNullTerminatedString(e);let f=new e;return f.writeUnsignedInt32(r),f.writeUnsignedInt32(l.length),f.pad(16),Buffer.concat([f.build(),i.build(),l.build()])}